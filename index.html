<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ScamGuard ‚Äì Detect Scams Instantly</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#10B981',
            secondary: '#059669',
            accent: '#34D399'
          }
        }
      }
    }
  </script>
</head>

<body class="bg-gradient-to-br from-gray-50 to-gray-100 text-gray-800">
  <!-- === Navbar === -->
  <nav class="bg-white/90 backdrop-blur-md shadow-lg fixed w-full top-0 left-0 z-50 border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <a href="#home"
        class="text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">
        üõ°Ô∏è ScamGuard
      </a>
      <ul class="hidden md:flex space-x-8 font-medium">
        <li><a href="#home" class="hover:text-primary transition-colors duration-200">Detect Scam</a></li>
        <li><a href="#tips" class="hover:text-primary transition-colors duration-200">Safety Tips</a></li>
        <li><a href="#hotlines" class="hover:text-primary transition-colors duration-200">Hotlines</a></li>
        <li><a href="#about" class="hover:text-primary transition-colors duration-200">About</a></li>
      </ul>
      <!-- Mobile menu button -->
      <button id="mobileMenuBtn" class="md:hidden text-gray-600 hover:text-primary">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
    <!-- Mobile menu (hidden by default) -->
    <div id="mobileMenu" class="md:hidden hidden absolute top-full left-0 w-full bg-white shadow-lg py-4 px-4">
      <ul class="flex flex-col space-y-2 font-medium">
        <li><a href="#home" class="block py-2 hover:text-primary transition-colors duration-200">Detect Scam</a></li>
        <li><a href="#tips" class="block py-2 hover:text-primary transition-colors duration-200">Safety Tips</a></li>
        <li><a href="#hotlines" class="block py-2 hover:text-primary transition-colors duration-200">Hotlines</a></li>
        <li><a href="#about" class="block py-2 hover:text-primary transition-colors duration-200">About</a></li>
      </ul>
    </div>
  </nav>

  <main class="pt-20">
    <!-- === Hero Section === -->
    <section id="home" class="min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5">
      <div class="max-w-7xl mx-auto px-4 py-12">
        <div class="grid lg:grid-cols-2 gap-12 items-center min-h-[calc(100vh-120px)]">

          <!-- Left Side - Features & Image -->
          <div class="space-y-8">
            <div class="text-center lg:text-left">
              <h1
                class="text-4xl lg:text-6xl font-bold mb-6 bg-gradient-to-r from-gray-900 via-primary to-secondary bg-clip-text text-transparent leading-tight">
                Protect Yourself from Scams
              </h1>
              <p class="text-xl text-gray-600 mb-8 leading-relaxed">
                AI-powered scam detection for SMS, WhatsApp, and social media messages.
                Stay safe in Kenya's digital landscape.
              </p>
            </div>

            <!-- Scam Message Wallpaper Placeholder -->
            <div
              class="relative bg-gradient-to-br from-red-50 to-orange-50 rounded-2xl p-8 border-2 border-dashed border-red-200 shadow-lg">
              <div class="absolute top-4 right-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold">
                ‚ö†Ô∏è SCAM
              </div>
              <div class="space-y-4">
                <div class="bg-white rounded-lg p-4 shadow-sm">
                  <div class="flex items-center gap-2 text-sm text-gray-500 mb-2">
                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                    +254700XXXXXX
                  </div>
                  <p class="text-gray-800">
                    üéâ CONGRATULATIONS! You've won KSH 50,000 from Safaricom!
                    Send your PIN to claim now. Hurry, expires in 1 hour!
                  </p>
                </div>
                <div class="bg-white rounded-lg p-4 shadow-sm">
                  <div class="flex items-center gap-2 text-sm text-gray-500 mb-2">
                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                    Unknown Contact
                  </div>
                  <p class="text-gray-800">
                    Your M-Pesa account will be blocked! Click here immediately:
                    http://suspicious-link.com/verify
                  </p>
                </div>
              </div>
            </div>

            <!-- Key Features -->
            <div class="grid sm:grid-cols-2 gap-6">
              <div class="flex items-start gap-4 p-4 bg-white/60 backdrop-blur rounded-xl border border-gray-200">
                <div class="bg-primary/10 rounded-full p-2">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="font-semibold text-gray-900">Instant Detection</h3>
                  <p class="text-sm text-gray-600">AI analyzes messages in seconds</p>
                </div>
              </div>

              <div class="flex items-start gap-4 p-4 bg-white/60 backdrop-blur rounded-xl border border-gray-200">
                <div class="bg-primary/10 rounded-full p-2">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                    </path>
                  </svg>
                </div>
                <div>
                  <h3 class="font-semibold text-gray-900">Privacy First</h3>
                  <p class="text-sm text-gray-600">Your data stays secure</p>
                </div>
              </div>

              <div class="flex items-start gap-4 p-4 bg-white/60 backdrop-blur rounded-xl border border-gray-200">
                <div class="bg-primary/10 rounded-full p-2">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                    </path>
                  </svg>
                </div>
                <div>
                  <h3 class="font-semibold text-gray-900">Kenya Focused</h3>
                  <p class="text-sm text-gray-600">Built for local scam patterns</p>
                </div>
              </div>

              <div class="flex items-start gap-4 p-4 bg-white/60 backdrop-blur rounded-xl border border-gray-200">
                <div class="bg-primary/10 rounded-full p-2">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="font-semibold text-gray-900">Expert Tips</h3>
                  <p class="text-sm text-gray-600">Get safety advice instantly</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Right Side - Detection Form -->
          <div class="bg-white rounded-3xl shadow-2xl p-8 border border-gray-200">
            <div class="mb-6">
              <h2 class="text-2xl font-bold text-gray-900 mb-2">Analyze Suspicious Message</h2>
              <p class="text-gray-600">Paste text or upload a screenshot to get started</p>
            </div>

            <div class="space-y-6">
              <!-- Input Tabs -->
              <div class="flex bg-gray-100 rounded-xl p-1">
                <button id="textTab"
                  class="flex-1 py-2 px-4 rounded-lg bg-white shadow-sm text-primary font-medium transition-all">
                  üìù Text Message
                </button>
                <button id="imageTab" class="flex-1 py-2 px-4 rounded-lg text-gray-600 font-medium transition-all">
                  üì∑ Screenshot
                </button>
              </div>

              <!-- Sender Input -->
              <div class="space-y-4">
                <div class="relative">
                  <select id="senderSelect"
                    class="w-full border-2 border-gray-200 rounded-xl p-4 focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all bg-gray-50 text-gray-800">
                    <option value="">Tell us the sender</option>
                    <option value="unknown">Unknown SMS/Whatsapp Message</option>
                    <option value="whatsapp_group">WhatsApp group</option>
                    <option value="friend">A Friend</option>
                    <option value="family">Family Member</option>
                    <option value="official">Official Company/Bank</option>
                    <option value="social_media">Social Media Contact</option>
                  </select>
                </div>
              </div>

              <!-- Text Input -->
              <div id="textInput" class="space-y-4">
                <div class="relative">
                  <textarea id="messageInput" rows="6"
                    placeholder="Paste your suspicious message here... e.g., 'Congratulations! You've won KSH 100,000. Send your PIN to claim.'"
                    class="w-full border-2 border-gray-200 rounded-xl p-4 focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all resize-none bg-gray-50 text-gray-800"></textarea>
                  <div class="absolute bottom-3 right-3 text-xs text-gray-400" id="charCount">0 characters</div>
                </div>
              </div>

              <!-- Image Upload -->
              <div id="imageInput" class="hidden space-y-4">
                <div
                  class="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-primary transition-colors">
                  <input type="file" id="fileInput" accept="image/*" class="hidden">
                  <div id="uploadArea" class="cursor-pointer">
                    <div class="text-4xl mb-4">üì∑</div>
                    <p class="text-gray-600 mb-2">Click to upload screenshot</p>
                    <p class="text-sm text-gray-400">Supports PNG, JPG, WebP</p>
                  </div>
                  <div id="imagePreview" class="hidden">
                    <img id="previewImg" class="max-w-full max-h-48 mx-auto rounded-lg shadow-lg">
                    <button id="removeImage" class="mt-4 text-red-500 hover:text-red-700 text-sm">Remove Image</button>
                  </div>
                </div>
              </div>

              <!-- Action Buttons -->
              <div class="flex gap-4">
                <button id="analyzeBtn"
                  class="flex-1 bg-gradient-to-r from-primary to-secondary hover:from-secondary hover:to-primary text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200">
                  üîç Analyze Message
                </button>
                <button id="clearBtn"
                  class="px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition-colors">
                  Clear
                </button>
              </div>

              <!-- Loading -->
              <div id="loading" class="hidden text-center py-8">
                <div class="inline-flex items-center gap-3 text-primary font-medium">
                  <div class="animate-spin rounded-full h-6 w-6 border-2 border-primary border-t-transparent"></div>
                  Analyzing message...
                </div>
              </div>

              <!-- Results -->
              <div id="resultCard"
                class="hidden space-y-6 p-6 bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 rounded-2xl">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-4">
                    <div id="verdictIcon" class="text-4xl"></div>
                    <div>
                      <span id="verdictBadge" class="px-4 py-2 rounded-full text-sm font-bold"></span>
                      <p class="text-2xl font-bold mt-2">Risk Score: <span id="scoreText">0%</span></p>
                      <p class="text-sm text-gray-600">Sender: <span id="senderResult">Unknown</span></p>
                    </div>
                  </div>
                </div>

                <!-- Score Bar -->
                <div class="w-full bg-gray-300 rounded-full h-4 overflow-hidden shadow-inner">
                  <div id="scoreBar" class="h-4 rounded-full transition-all duration-1000 ease-out"></div>
                </div>

                <!-- Reasons -->
                <div>
                  <h3 class="font-bold text-gray-900 mb-3 flex items-center gap-2">
                    üîç Detection Reasons:
                  </h3>
                  <ul id="reasonsList" class="space-y-2"></ul>
                </div>

                <!-- Safety Tips -->
                <div>
                  <h3 class="font-bold text-gray-900 mb-3 flex items-center gap-2">
                    üí° Safety Advice:
                  </h3>
                  <div id="safetyTips" class="bg-white rounded-lg p-4 border-l-4 border-primary"></div>
                </div>

                <!-- Original Message -->
                <div>
                  <h3 class="font-bold text-gray-900 mb-3">üìÑ Analyzed Message:</h3>
                  <blockquote id="originalText"
                    class="bg-white border-l-4 border-gray-400 p-4 rounded-r-lg italic text-gray-700">
                  </blockquote>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- === Safety Tips === -->
    <section id="tips" class="py-20 bg-white">
      <div class="max-w-6xl mx-auto px-4">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold text-gray-900 mb-4">üõ°Ô∏è Essential Safety Tips</h2>
          <p class="text-xl text-gray-600">Protect yourself from common scam tactics</p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
          <div class="bg-gradient-to-br from-red-50 to-red-100 rounded-2xl p-6 border border-red-200">
            <div class="text-3xl mb-4">üîê</div>
            <h3 class="font-bold text-gray-900 mb-3">Never Share PINs</h3>
            <p class="text-gray-700 text-sm">Your M-Pesa PIN, bank passwords, and OTPs should never be shared with
              anyone, including "officials".</p>
          </div>

          <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200">
            <div class="text-3xl mb-4">‚úÖ</div>
            <h3 class="font-bold text-gray-900 mb-3">Verify First</h3>
            <p class="text-gray-700 text-sm">Always call official numbers to verify messages claiming to be from banks
              or Safaricom.</p>
          </div>

          <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-2xl p-6 border border-yellow-200">
            <div class="text-3xl mb-4">‚è∞</div>
            <h3 class="font-bold text-gray-900 mb-3">Ignore Urgency</h3>
            <p class="text-gray-700 text-sm">Real companies don't create artificial urgency. Take time to verify before
              acting.</p>
          </div>

          <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border border-green-200">
            <div class="text-3xl mb-4">üåê</div>
            <h3 class="font-bold text-gray-900 mb-3">Check Official Sites</h3>
            <p class="text-gray-700 text-sm">Visit official websites directly instead of clicking links in suspicious
              messages.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- === Hotlines === -->
    <section id="hotlines" class="py-20 bg-gradient-to-br from-primary/5 to-secondary/5">
      <div class="max-w-6xl mx-auto px-4">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold text-gray-900 mb-4">üìû Report Scams Immediately</h2>
          <p class="text-xl text-gray-600">Contact these official numbers if you suspect a scam</p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-shadow">
            <div class="text-3xl mb-4">üì±</div>
            <h3 class="font-bold text-gray-900 mb-2">Safaricom Customer Care</h3>
            <a href="tel:100" class="text-2xl font-bold text-primary hover:text-secondary">100</a>
          </div>

          <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-shadow">
            <div class="text-3xl mb-4">üö®</div>
            <h3 class="font-bold text-gray-900 mb-2">Safaricom Fraud Hotline</h3>
            <a href="tel:333" class="text-2xl font-bold text-primary hover:text-secondary">333</a>
          </div>

          <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-shadow">
            <div class="text-3xl mb-4">üîç</div>
            <h3 class="font-bold text-gray-900 mb-2">DCI Fraud Reporting</h3>
            <a href="tel:0800722203" class="text-xl font-bold text-primary hover:text-secondary">0800 722 203</a>
          </div>

          <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-shadow">
            <div class="text-3xl mb-4">üöî</div>
            <h3 class="font-bold text-gray-900 mb-2">Police Emergency</h3>
            <a href="tel:999" class="text-2xl font-bold text-primary hover:text-secondary">999 / 112</a>
          </div>

          <div
            class="bg-white rounded-2xl p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-shadow md:col-span-2 lg:col-span-2">
            <div class="text-3xl mb-4">üìß</div>
            <h3 class="font-bold text-gray-900 mb-2">Email Reporting</h3>
            <a href="mailto:fraud@safaricom.co.ke"
              class="text-lg font-bold text-primary hover:text-secondary underline">fraud@safaricom.co.ke</a>
          </div>
        </div>
      </div>
    </section>

    <!-- === About Section === -->
    <section id="about" class="py-20 bg-white">
      <div class="max-w-4xl mx-auto px-4 text-center">
        <h2 class="text-4xl font-bold text-gray-900 mb-8">‚ÑπÔ∏è About ScamGuard</h2>
        <div class="bg-gradient-to-br from-primary/5 to-secondary/5 rounded-3xl p-8 border border-gray-200">
          <p class="text-lg text-gray-700 leading-relaxed mb-6">
            ScamGuard is an AI-powered tool designed to protect Kenyans from SMS, WhatsApp, and social media scams.
            By analyzing messages for fraud patterns and providing instant safety tips, ScamGuard helps reduce
            financial losses and build digital trust.
          </p>
          <p class="text-gray-600">
            This innovation supports the TVET theme of sustainable development by improving cybersecurity awareness
            and economic resilience in Kenya's digital economy.
          </p>
        </div>
      </div>
    </section>
  </main>

  <!-- === Footer === -->
  <footer class="bg-gray-900 text-white py-12">
    <div class="max-w-6xl mx-auto px-4 text-center">
      <div class="text-2xl font-bold mb-4 bg-gradient-to-r from-accent to-primary bg-clip-text text-transparent">
        üõ°Ô∏è ScamGuard
      </div>
      <p class="text-gray-400 mb-6">Protecting Kenyans from digital fraud since 2025</p>
      <div class="border-t border-gray-700 pt-6">
        <p class="text-sm text-gray-500">¬© 2025 ScamGuard | Built for Digital Safety in Kenya</p>
      </div>
    </div>
  </footer>

  <script>
    // Wait for DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function () {
      console.log('DOM loaded - initializing ScamGuard');

      // Tab switching functionality
      const textTab = document.getElementById('textTab');
      const imageTab = document.getElementById('imageTab');
      const textInput = document.getElementById('textInput');
      const imageInput = document.getElementById('imageInput');

      if (textTab && imageTab && textInput && imageInput) {
        textTab.addEventListener('click', () => {
          textTab.classList.add('bg-white', 'shadow-sm', 'text-primary');
          textTab.classList.remove('text-gray-600');
          imageTab.classList.remove('bg-white', 'shadow-sm', 'text-primary');
          imageTab.classList.add('text-gray-600');
          textInput.classList.remove('hidden');
          imageInput.classList.add('hidden');
        });

        imageTab.addEventListener('click', () => {
          imageTab.classList.add('bg-white', 'shadow-sm', 'text-primary');
          imageTab.classList.remove('text-gray-600');
          textTab.classList.remove('bg-white', 'shadow-sm', 'text-primary');
          textTab.classList.add('text-gray-600');
          imageInput.classList.remove('hidden');
          textInput.classList.add('hidden');
        });
      }

      // Character count
      const messageInput = document.getElementById('messageInput');
      const charCount = document.getElementById('charCount');

      if (messageInput && charCount) {
        messageInput.addEventListener('input', () => {
          const count = messageInput.value.length;
          charCount.textContent = `${count} characters`;
        });
      }

      // Image upload functionality
      const fileInput = document.getElementById('fileInput');
      const uploadArea = document.getElementById('uploadArea');
      const imagePreview = document.getElementById('imagePreview');
      const previewImg = document.getElementById('previewImg');
      const removeImage = document.getElementById('removeImage');

      if (uploadArea && fileInput && imagePreview && previewImg && removeImage) {
        uploadArea.addEventListener('click', () => {
          fileInput.click();
        });

        fileInput.addEventListener('change', (e) => {
          const file = e.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
              previewImg.src = e.target.result;
              uploadArea.classList.add('hidden');
              imagePreview.classList.remove('hidden');
            };
            reader.readAsDataURL(file);
          }
        });

        removeImage.addEventListener('click', () => {
          fileInput.value = '';
          uploadArea.classList.remove('hidden');
          imagePreview.classList.add('hidden');
        });
      }

      // Analysis functionality (mock implementation)
      const analyzeBtn = document.getElementById('analyzeBtn');
      const clearBtn = document.getElementById('clearBtn');
      const loading = document.getElementById('loading');
      const resultCard = document.getElementById('resultCard');
      const senderSelect = document.getElementById('senderSelect');

      if (analyzeBtn && clearBtn && loading && resultCard && senderSelect) {
        analyzeBtn.addEventListener('click', () => {
          const textValue = messageInput ? messageInput.value.trim() : '';
          const hasImage = fileInput && fileInput.files.length > 0;
          const senderValue = senderSelect.value;

          if (!textValue && !hasImage) {
            alert('Please enter a message or upload an image to analyze.');
            return;
          }

          if (!senderValue) {
            alert('Please select the message sender.');
            return;
          }

          // Show loading
          loading.classList.remove('hidden');
          resultCard.classList.add('hidden');

          // Mock analysis (replace with real API call)
          setTimeout(() => {
            loading.classList.add('hidden');
            showResults(textValue || 'Screenshot analysis complete', senderValue);
          }, 2000);
        });

        clearBtn.addEventListener('click', () => {
          if (messageInput) messageInput.value = '';
          if (fileInput) fileInput.value = '';
          if (senderSelect) senderSelect.value = '';
          if (charCount) charCount.textContent = '0 characters';
          if (uploadArea) uploadArea.classList.remove('hidden');
          if (imagePreview) imagePreview.classList.add('hidden');
          if (resultCard) resultCard.classList.add('hidden');
        });
      }

      function showResults(message, sender) {
        const verdictIcon = document.getElementById('verdictIcon');
        const verdictBadge = document.getElementById('verdictBadge');
        const scoreBar = document.getElementById('scoreBar');
        const scoreText = document.getElementById('scoreText');
        const reasonsList = document.getElementById('reasonsList');
        const safetyTips = document.getElementById('safetyTips');
        const originalText = document.getElementById('originalText');
        const senderResult = document.getElementById('senderResult');

        if (!verdictIcon || !verdictBadge || !scoreBar || !scoreText || !reasonsList || !safetyTips || !originalText || !senderResult) {
          console.error('One or more result elements not found');
          return;
        }

        // Mock analysis results - consider sender in risk assessment
        const isScam = message.toLowerCase().includes('win') ||
          message.toLowerCase().includes('pin') ||
          message.toLowerCase().includes('congratulations') ||
          message.toLowerCase().includes('claim') ||
          message.toLowerCase().includes('urgent');

        // Adjust risk based on sender
        let baseRiskScore = isScam ? Math.floor(Math.random() * 30) + 70 : Math.floor(Math.random() * 40) + 10;

        // Adjust risk based on sender type
        if (sender === 'friend' || sender === 'family') {
          baseRiskScore = Math.max(0, baseRiskScore - 20); // Lower risk for known contacts
        } else if (sender === 'official') {
          baseRiskScore = Math.max(0, baseRiskScore - 10); // Slightly lower for official sources
        } else if (sender === 'unknown') {
          baseRiskScore = Math.min(100, baseRiskScore + 15); // Higher risk for unknown senders
        }

        const riskScore = Math.min(100, Math.max(0, baseRiskScore)); // Ensure score is between 0-100

        // Set sender display text
        const senderDisplayText = {
          'unknown': 'Unknown SMS/WhatsApp Message',
          'whatsapp_group': 'WhatsApp Group',
          'friend': 'A Friend',
          'family': 'Family Member',
          'official': 'Official Company/Bank',
          'social_media': 'Social Media Contact'
        }[sender] || 'Unknown';

        senderResult.textContent = senderDisplayText;

        // Set verdict
        if (riskScore >= 70) {
          verdictIcon.textContent = 'üö®';
          verdictBadge.textContent = 'HIGH RISK';
          verdictBadge.className = 'px-4 py-2 rounded-full text-sm font-bold bg-red-100 text-red-800';
          scoreBar.className = 'h-4 rounded-full transition-all duration-1000 ease-out bg-gradient-to-r from-red-500 to-red-600';
        } else if (riskScore >= 40) {
          verdictIcon.textContent = '‚ö†Ô∏è';
          verdictBadge.textContent = 'MEDIUM RISK';
          verdictBadge.className = 'px-4 py-2 rounded-full text-sm font-bold bg-yellow-100 text-yellow-800';
          scoreBar.className = 'h-4 rounded-full transition-all duration-1000 ease-out bg-gradient-to-r from-yellow-500 to-yellow-600';
        } else {
          verdictIcon.textContent = '‚úÖ';
          verdictBadge.textContent = 'LOW RISK';
          verdictBadge.className = 'px-4 py-2 rounded-full text-sm font-bold bg-green-100 text-green-800';
          scoreBar.className = 'h-4 rounded-full transition-all duration-1000 ease-out bg-gradient-to-r from-green-500 to-green-600';
        }

        scoreBar.style.width = `${riskScore}%`;
        scoreText.textContent = `${riskScore}%`;

        // Set reasons - include sender context
        let reasons = [];
        if (isScam) {
          reasons = ['Contains prize/winning language', 'Requests sensitive information', 'Creates false urgency', 'Uses suspicious links'];
          if (sender === 'unknown') {
            reasons.push('Message from unknown sender');
          }
        } else {
          reasons = ['No obvious scam indicators', 'Language appears legitimate', 'No urgent demands', 'No request for personal information'];
          if (sender === 'friend' || sender === 'family') {
            reasons.push('Message from trusted contact');
          }
        }

        reasonsList.innerHTML = reasons.map(reason =>
          `<li class="flex items-start gap-2 p-2 bg-white rounded-lg">
            <span class="text-primary">‚Ä¢</span>
            <span class="text-gray-700">${reason}</span>
          </li>`
        ).join('');

        // Set safety tips - include sender context
        if (riskScore >= 70) {
          safetyTips.innerHTML = '<p class="text-red-700 font-medium">‚ö†Ô∏è This message shows clear scam indicators. Do not respond or provide any personal information. Delete the message and block the sender if possible.</p>';
        } else if (riskScore >= 40) {
          safetyTips.innerHTML = '<p class="text-orange-700 font-medium">‚ö†Ô∏è Exercise caution with this message. Verify the sender\'s identity before taking any action.</p>';
        } else {
          if (sender === 'friend' || sender === 'family') {
            safetyTips.innerHTML = '<p class="text-green-700 font-medium">‚úÖ This message appears safe and is from a trusted contact. Still, remain cautious with personal information.</p>';
          } else {
            safetyTips.innerHTML = '<p class="text-green-700 font-medium">‚úÖ This message appears safe, but always verify the sender if unsure about any requests.</p>';
          }
        }

        // Set original message
        originalText.textContent = message;

        resultCard.classList.remove('hidden');

        // Scroll to results
        resultCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }

      // Smooth scrolling for navigation
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          if (targetId === '#') return;

          const target = document.querySelector(targetId);
          if (target) {
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
              mobileMenu.classList.add('hidden');
            }

            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });

      // Mobile menu functionality
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');

      if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener('click', () => {
          mobileMenu.classList.toggle('hidden');
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
          if (!mobileMenu.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
            mobileMenu.classList.add('hidden');
          }
        });
      }

      // Add loading animation to analyze button
      if (analyzeBtn) {
        analyzeBtn.addEventListener('mouseenter', () => {
          analyzeBtn.style.transform = 'scale(1.05)';
        });

        analyzeBtn.addEventListener('mouseleave', () => {
          analyzeBtn.style.transform = 'scale(1)';
        });
      }

      // Auto-resize textarea
      if (messageInput) {
        messageInput.addEventListener('input', function () {
          this.style.height = 'auto';
          this.style.height = this.scrollHeight + 'px';
        });
      }

      console.log('ScamGuard initialized successfully');
    });
  </script>
</body>

</html>